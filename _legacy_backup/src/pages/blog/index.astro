---
import Layout from '../../layouts/Layout.astro';
import Card from '../../components/Card.astro';
import { getCollection } from 'astro:content';

const posts = await getCollection('blog');
const sortedPosts = posts.sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf());
---

<Layout title="Blog | Data Bounty LLC" description="Insights on data science, causal inference, and economics from Data Bounty LLC.">
	<section class="py-16 bg-white">
		<div class="container mx-auto px-4">
			<h1 class="text-4xl font-bold text-brand-maroon text-center mb-4">Insights & Publications</h1>
			<p class="text-gray-600 text-center max-w-2xl mx-auto mb-16">
				Thoughts on the intersection of economics, data science, and strategy.
			</p>
			
			<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
				{sortedPosts.map(post => (
					<Card title={post.data.title} tags={post.data.tags} class="h-full flex flex-col">
						<div class="text-xs text-gray-500 mb-2">
							{post.data.pubDate.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })}
						</div>
						<p class="text-gray-600 mb-4 flex-grow">
							{post.data.description}
						</p>
						<div class="mt-auto pt-4 border-t border-gray-100">
							<span class="text-brand-maroon font-medium text-sm">Read more (Coming Soon)</span>
						</div>
					</Card>
				))}
			</div>
		</div>
	</section>
</Layout>
